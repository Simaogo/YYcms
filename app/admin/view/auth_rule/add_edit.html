{include file="public/header" /}
<form class="layui-form" action="" lay-filter="list">
    <div class="layui-row layui-form-list">
        <div class="layui-form-item">
            <div class="layui-inline">
              <label class="layui-form-label">权限上级</label>
              <div class="layui-input-inline">
                <select name="pid" lay-verify="required">
                  <option value="0">顶级</option>
                  {volist name="authRuleList" id="vo"}
                   <option value="{$vo.id}"> {$vo.lefthtml|raw} {$vo.title}</option>
                  {/volist}
                </select>
              </div>
            </div>
        </div>
        <div class="layui-form-item">
     
            <label class="layui-form-label">名称</label>
            <div class="layui-input-block">
              <input type="text" name="title" lay-verify="required" autocomplete="off" placeholder="名称" class="layui-input">
            </div>
        
        </div>
        <div class="layui-form-item">
            <div class="layui-inline">
              <label class="layui-form-label">Url</label>
              <div class="layui-input-inline">
                    <input type="text" name="href" lay-verify="required" autocomplete="off" placeholder="控制器/方法" class="layui-input">
              </div>
            </div>
        </div>

        <div class="layui-form-item">
            <label for="" class="layui-form-label">图标：</label>
            <div class="layui-input-inline">
                <input type="text" id="iconHhysFa" lay-filter="" class="hide" name="icon" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <div class="layui-inline">
              <label class="layui-form-label">是否菜单</label>
              <div class="layui-input-inline">
                    <input type="radio" name="menu_status" lay-skin="primary" title="启用" value="1" checked>
                    <input type="radio" name="menu_status" lay-skin="primary" title="隐藏" value="0">
              </div>
            </div>
        </div>
        <div class="layui-form-item">
            <div class="layui-inline">
              <label class="layui-form-label">状态</label>
              <div class="layui-input-inline">
                    <input type="radio" name="status" lay-skin="primary" title="启用" value="1" checked>
                    <input type="radio" name="status" lay-skin="primary" title="关闭" value="0">
              </div>
            </div>
        </div>
        <div class="layui-form-item">
            <div class="layui-inline">
              <label class="layui-form-label">排序</label>
              <div class="layui-input-inline">
                    <input type="text" name="sort" lay-skin="primary" title="排序" value="1" class="layui-input">
              </div>
            </div>
        </div>
    </div>
    <div class="layui-flex layui-submit">
        <button class="layui-btn layui-btn-sm layui-submit-btn" lay-submit="" lay-filter="submit">提交</button>
    </div>
</form>
{include file="public/footer" /}
<script>
    
    layui.use(['form','formTool','iconHhysFa'], function(){
      var form = layui.form
      ,formTool = layui.formTool
      ,$ = layui.jquery
      ,iconHhysFa = layui.iconHhysFa
      ,laydate = layui.laydate;
       laydate.render({
            elem: '#pubdate'
            ,type: 'datetime'
       });
       //图标选择器
        iconHhysFa.render({
            // 选择器，推荐使用input
            elem: '#iconHhysFa',
            // 数据类型：fontClass/awesome，推荐使用fontClass
            type: 'fontClass',
            // 是否开启搜索：true/false，默认true
            search: true,
            // 是否开启分页：true/false，默认true
            page: true,
            // 每页显示数量，默认12
            limit: 12,
            url: '',
            // 点击回调
            click: function(data) {
                console.log(data);
            },
            // 渲染成功后的回调
            success: function(d) {
                console.log(d);
            }
        });
        //跳转网址
        form.on('radio(redirecturl)', function(obj){
            if(obj.value == 2){　　　　　　//判断当前多选框是选中还是取消选中
                $('.redirecturl').removeClass('layui-hide');
            }else{
                $('.redirecturl').addClass('layui-hide');
            }
            return false;
          });
       formTool.events.submit();//form提交
       formTool.setValue();
       formTool.uploads();
    });
</script>